<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ë—É–∫–≤—ã K</title>
    <link rel="stylesheet" href="styles.css">
    <script src="lib/plotly.min.js"></script>
    <script src="lib/math.min.js"></script>
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <h1>3D –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ë—É–∫–≤—ã K</h1>
            <p class="subtitle">–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∞—Ñ—Ñ–∏–Ω–Ω—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è</p>
            <div class="header-actions">
                <button onclick="toggleFullscreen()" class="btn-fullscreen" title="–ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º">
                    <span class="icon">‚õ∂</span> –ü–æ–ª–Ω—ã–π —ç–∫—Ä–∞–Ω
                </button>
            </div>
        </header>

        <div class="main-content">
            <div class="control-panel-top">
                <div class="controls-grid">
                    <div class="control-group">
                        <h3><span class="icon">‚Üª</span> –í—Ä–∞—â–µ–Ω–∏–µ</h3>
                        <div class="control-row">
                            <label>X: <span class="value" id="rotXVal">0¬∞</span></label>
                            <input type="range" id="rotX" min="-180" max="180" value="0" step="1">
                            <input type="number" id="rotXNum" value="0" class="number-input">
                        </div>
                        <div class="control-row">
                            <label>Y: <span class="value" id="rotYVal">0¬∞</span></label>
                            <input type="range" id="rotY" min="-180" max="180" value="0" step="1">
                            <input type="number" id="rotYNum" value="0" class="number-input">
                        </div>
                        <div class="control-row">
                            <label>Z: <span class="value" id="rotZVal">0¬∞</span></label>
                            <input type="range" id="rotZ" min="-180" max="180" value="0" step="1">
                            <input type="number" id="rotZNum" value="0" class="number-input">
                        </div>
                    </div>

                    <div class="control-group">
                        <h3><span class="icon">‚áÑ</span> –°–¥–≤–∏–≥</h3>
                        <div class="control-row">
                            <label>X: <span class="value" id="transXVal">0.0</span></label>
                            <input type="range" id="transX" min="-2" max="2" value="0" step="0.1">
                            <input type="number" id="transXNum" value="0" step="0.1" class="number-input">
                        </div>
                        <div class="control-row">
                            <label>Y: <span class="value" id="transYVal">0.0</span></label>
                            <input type="range" id="transY" min="-2" max="2" value="0" step="0.1">
                            <input type="number" id="transYNum" value="0" step="0.1" class="number-input">
                        </div>
                        <div class="control-row">
                            <label>Z: <span class="value" id="transZVal">0.0</span></label>
                            <input type="range" id="transZ" min="-1" max="1" value="0" step="0.1">
                            <input type="number" id="transZNum" value="0" step="0.1" class="number-input">
                        </div>
                    </div>

                    <div class="control-group">
                        <h3><span class="icon">‚§¢</span> –ú–∞—Å—à—Ç–∞–±</h3>
                        <div class="control-row full-width">
                            <label>–ú–∞—Å—à—Ç–∞–±: <span class="value" id="scaleVal">1.0</span></label>
                            <input type="range" id="scaleSlider" min="0.3" max="2" value="1" step="0.1">
                            <input type="number" id="scaleNum" value="1" step="0.1" min="0.3" max="2" class="number-input">
                        </div>
                        <div class="button-group">
                            <button onclick="applyScale()" class="apply-btn">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                            <button onclick="resetView()" class="btn-reset">–°–±—Ä–æ—Å–∏—Ç—å</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="visualization-area">
                <div class="plot-section">
                    <div class="section-header">
                        <h2><span class="icon">üìê</span> 3D –ú–æ–¥–µ–ª—å –ë—É–∫–≤—ã K</h2>
                        <div class="view-controls">
                            <button onclick="resetCamera()" class="btn-small"><span class="icon">üéØ</span> –°–±—Ä–æ—Å –∫–∞–º–µ—Ä—ã</button>
                        </div>
                    </div>
                    <div id="plot3d" class="plot3d-container"></div>
                </div>

                <div class="projections-section">
                    <div class="section-header">
                        <h2><span class="icon">üìä</span> –û—Ä—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –ü—Ä–æ–µ–∫—Ü–∏–∏</h2>
                        <div class="projection-controls">
                            <button onclick="toggleProjections()" class="btn-small" id="toggleProjBtn">
                                <span class="icon">‚¨á</span> –°–≤–µ—Ä–Ω—É—Ç—å
                            </button>
                        </div>
                    </div>
                    <div id="projectionsContainer" class="projections-container">
                        <div class="projections-grid">
                            <div class="projection-card">
                                <h3>–í–∏–¥ XY (—Å–≤–µ—Ä—Ö—É)</h3>
                                <div id="projXY" class="proj-plot"></div>
                            </div>
                            <div class="projection-card">
                                <h3>–í–∏–¥ XZ (—Å–ø–µ—Ä–µ–¥–∏)</h3>
                                <div id="projXZ" class="proj-plot"></div>
                            </div>
                            <div class="projection-card">
                                <h3>–í–∏–¥ YZ (—Å–±–æ–∫—É)</h3>
                                <div id="projYZ" class="proj-plot"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="matrix-section">
                <div class="section-header">
                    <h2><span class="icon">üî¢</span> –ú–∞—Ç—Ä–∏—Ü–∞ –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è (4√ó4)</h2>
                    <button onclick="copyMatrix()" class="btn-small"><span class="icon">üìã</span> –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                </div>
                <div class="matrix-container">
                    <pre id="matrixOutput">1.000  0.000  0.000  0.000
0.000  1.000  0.000  0.000
0.000  0.000  1.000  0.000
0.000  0.000  0.000  1.000</pre>
                </div>
            </div>
        </div>

        <footer class="app-footer">
            <p>–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ6 ‚Ä¢ 3D –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è ‚Ä¢ –ë—É–∫–≤–∞ K</p>
            <p class="footer-note">–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–∞–π–¥–µ—Ä—ã –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>
