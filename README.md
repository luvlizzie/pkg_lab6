# **Визуализация трёхмерной модели буквы «К» с использованием WebGL**

## **Описание проекта**

Интерактивное веб-приложение, реализующее построение, отображение и управление трёхмерной моделью буквы **«К»**, собранной из параллелепипедов и визуализированной средствами WebGL. Приложение поддерживает разные виды проекций, независимое управление трансформациями модели и отображение матрицы преобразований в реальном времени.

Система построена поверх **чистого WebGL 1.0**, что позволяет наглядно изучать принципы:

* трехмерного моделирования;
* матричных преобразований;
* перспективной и ортографической проекции;
* буфера глубины;
* работы вершинных и фрагментных шейдеров.

Приложение ориентировано на учебные цели и демонстрацию основ компьютерной графики.

---

# **Основные возможности**

## **1. 3D-модель буквы «К»**

Буква состоит из нескольких **объёмных параллелепипедов**, формирующих вертикальную стойку и две диагональные перекладины.
Каждый элемент — полноценный 3D-бокс с:

* 8 вершинами,
* 12 треугольниками,
* корректными нормалями,
* материалом Ламберта (диффузное освещение).

В отличие от проволочной визуализации, объёмная модель корректно отображается под любыми углами и не «пропадает» при поворотах.

---

## **2. Три ортографические проекции + основная 3D-камера**

Приложение использует **4 независимых canvas-холста**:

| Холст        | Система координат | Камера                       |
| ------------ | ----------------- | ---------------------------- |
| **mainView** | 3D пространство   | Перспективная камера         |
| **viewXY**   | плоскость XY      | Ортографическая, вид сверху  |
| **viewXZ**   | плоскость XZ      | Ортографическая, вид спереди |
| **viewYZ**   | плоскость YZ      | Ортографическая, вид сбоку   |

Каждая проекция рендерится **отдельным WebGL-контекстом** и использует собственную модель вида (modelViewMatrix).

---

## **3. Матричные 3D-преобразования**

Все трансформации объединяются в одну матрицу:

**T · Rx · Ry · Rz · S**

Где:

* **T** — трансляция,
* **S** — масштабирование,
* **Rx, Ry, Rz** — повороты вокруг осей.

Матрица выводится в отдельный блок в виде форматированного 4×4 массива.

Параметры трансформаций:

* перемещение по X, Y, Z;
* изменение масштаба;
* поворот вокруг каждой оси **в градусах**;
* кнопка сброса всех трансформаций.

---

## **4. Поддержка диффузного освещения (модель Ламберта)**

Для реалистичного отображения применено освещение Ламберта:

F = max(0, dot(N, L)) · Color

Где:

* **N** — нормаль поверхности,
* **L** — направление света.

В результате:

* объём читается корректно,
* нет плоских одноцветных граней,
* модель не исчезает при поворотах,
* освещение одинаково для всех боксов.

---

## **5. Координатная система**

Отрисовываются:

* ось X (красная),
* ось Y (зелёная),
* ось Z (синяя).

Это облегчает ориентацию в сцене и понимание направлений трансформаций.

---

# **Используемые технологии**

| Область    | Технология                       |
| ---------- | -------------------------------- |
| 3D графика | WebGL 1.0                        |
| Математика | библиотека glMatrix (mat4, vec3) |
| Платформа  | Чистый JavaScript ES6            |
| UI         | HTML5 + CSS3                     |
| Рендеринг  | VBO, IBO, шейдеры, буфер глубины |

---

# **Архитектура приложения**

Приложение состоит из следующих компонентов:

---

## **1. MultiCanvasThreeD (главный класс)**

Отвечает за:

* инициализацию WebGL на каждом canvas;
* загрузку и компиляцию шейдеров;
* создание параллелепипедов, составляющих букву К;
* расчёт и применение матриц трансформаций;
* рендеринг всех четырех видов;
* обработку пользовательских действий.

---

## **2. Шейдерная система**

### **Вершинный шейдер**

* принимает позицию,
* принимает нормали,
* выполняет modelView + projection,
* передаёт освещение во фрагментный шейдер.

### **Фрагментный шейдер**

* рассчитывает диффузное освещение,
* выводит финальный цвет с учетом освещения.

---

## **3. Модуль построения параллелепипедов**

Каждый бокс описывается:

* массивом вершин (8 точек),
* нормалями (по одной на грань),
* индексами (12 треугольников).

Все боксы объединяются в одну сетку (mesh merging), что повышает производительность.

---

## **4. Модуль управления**

Слайдеры отвечают за:

* translateX/translateY/translateZ
* scale
* rotateX/rotateY/rotateZ

Каждое изменение вызывает `renderAll()`.

---

# **Математическая часть**

### **Матрица трансформаций**

M = P · V · T · Rx · Ry · Rz · S

где:

* **P** — матрица проекции (perspective / ortho),
* **V** — матрица камеры,
* **T** — перенос,
* **Rx,Ry,Rz** — повороты,
* **S** — масштаб.

---

### **Освещение Ламберта**

I = C · max(0, dot(N, L))

где:

* N — нормаль,
* L — нормализованный вектор к источнику,
* C — цвет материала.

---

### **Буфер глубины**

В приложении включён:

```js
gl.enable(gl.DEPTH_TEST);
gl.depthFunc(gl.LEQUAL);
```

что позволяет:

* правильно отображать перекрывающиеся боксы,
* исключить «пропадание» объекта,
* корректно рисовать все проекции.

---

# **Пример работы приложения**

### При запуске:

* во всех 4 окнах отображается буква К,
* в главном окне — перспектива,
* в малых окнах — ортогональные проекции.

### При изменении параметров:

* буква вращается,
* отображение синхронно обновляется во всех 4 окнах,
* матрица преобразования выводится в виде 4×4.

---

# **Преимущества реализации**

* Чистый WebGL без сторонних 3D-движков.
* Полностью объёмная модель буквы.
* Реалистичное освещение.
* Поддержка параллельного рендеринга в четырёх окнах.
* Независимое управление трансформациями в реальном времени.
* Удобная визуализация матриц и ориентации в пространстве.
* Образовательная ориентированность: код легко разобрать и адаптировать.
* Производительность выше, чем у Canvas или SVG.

---

# **Вывод**

Разработанное приложение демонстрирует базовые, но очень важные принципы трёхмерной графики: работу с WebGL, создание объёмных моделей, применение матричных преобразований и освещения, построение разных видов проекции и синхронный рендеринг на нескольких холстах.
