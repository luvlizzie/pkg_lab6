# Отчет по лабораторной работе
## Визуализация трёхмерной модели буквы «К» с использованием 3D графики

---

### 1. Описание проекта

Разработано интерактивное веб-приложение, реализующее построение, отображение и управление трёхмерной моделью буквы «К». Модель состоит из набора четырёхугольников (параллелепипедов) и визуализируется средствами Plotly.js поверх WebGL. Приложение поддерживает различные виды проекций, независимое управление трансформациями модели и отображение матрицы преобразований в реальном времени.

Система построена с использованием современного стека веб-технологий, что позволяет наглядно изучать принципы:
- трёхмерного моделирования;
- матричных преобразований;
- ортографической проекции;
- работы с 3D графикой в браузере.

Приложение ориентировано на учебные цели и демонстрацию основ компьютерной графики.

---

### 2. Основные возможности

#### 2.1. 3D-модель буквы «К»
Буква смоделирована как композиция трёх основных четырёхугольных призм:
- **Вертикальная стойка** — основной элемент буквы
- **Верхняя наклонная перекладина** — соединена с серединой вертикальной стойки
- **Нижняя наклонная перекладина** — симметрично соединена с серединой вертикальной стойки

Каждый элемент представлен в виде объёмного параллелепипеда с:
- 24 вершинами (12 спереди + 12 сзади)
- 36 рёбрами
- Чётко определёнными гранями

#### 2.2. Четыре независимых вида отображения
Приложение использует 4 независимых графических области:

| Область отображения | Тип проекции | Система координат | Назначение |
|-------------------|--------------|-------------------|------------|
| `plot3d` | Перспективная | 3D пространство | Основная 3D визуализация |
| `projXY` | Ортографическая | Плоскость XY | Вид сверху |
| `projXZ` | Ортографическая | Плоскость XZ | Вид спереди |
| `projYZ` | Ортографическая | Плоскость YZ | Вид сбоку |

#### 2.3. Матричные 3D-преобразования
Все трансформации объединяются в единую матрицу 4×4 в порядке:
**T · Rx · Ry · Rz · S**

Где:
- **T** — трансляция (Translation)
- **S** — масштабирование (Scale)
- **Rx, Ry, Rz** — повороты вокруг осей X, Y, Z (Rotation)

Матрица отображается в реальном времени в виде форматированного 4×4 массива.

#### 2.4. Параметры управления
Интерфейс предоставляет полный контроль над трансформациями:

**Параметры трансформаций:**
- Перемещение по осям X, Y, Z (-2.0 до +2.0)
- Масштабирование (0.3 до 2.0)
- Вращение вокруг каждой оси (-180° до +180°)

**Элементы управления:**
- Слайдеры для плавного изменения
- Числовые поля для точного ввода
- Кнопки применения и сброса

#### 2.5. Адаптивный интерфейс
- Панель управления размещена сверху для лучшей эргономики
- Проекции отображаются внизу страницы
- Поддержка полноэкранного режима
- Автоматическая адаптация под разные размеры экрана
- Возможность сворачивания секции проекций

---

### 3. Используемые технологии

| Область | Технология | Версия/Описание |
|---------|------------|-----------------|
| 3D Графика | Plotly.js | 2.27.0 (WebGL-based) |
| Математика | Math.js | 12.2.1 |
| Язык программирования | JavaScript | ES6+ |
| Интерфейс | HTML5 + CSS3 | Современные стандарты |
| Шрифты и иконки | Web Fonts + Emoji | Segoe UI, иконки Unicode |
| Адаптивный дизайн | CSS Grid + Flexbox | Полная адаптивность |

---

### 4. Архитектура приложения

#### 4.1. Структура проекта
```
lab6_pkg/
├── lib/
│   ├── math.min.js      # Математические операции
│   └── plotly.min.js    # 3D визуализация
├── index.html           # Основная структура
├── styles.css           # Стили и адаптивный дизайн
└── script.js            # Основная логика
```

#### 4.2. Ключевые модули

**1. Модуль геометрии (script.js)**
```javascript
// Определение вершин и рёбер буквы K
const initialVertices = [...];  // 24 вершины
const edges = [...];           // 36 рёбер
```

**2. Модуль матричных преобразований**
```javascript
function getRotationMatrix(axis, angleDeg) { ... }
function getTranslationMatrix(dx, dy, dz) { ... }
function getScaleMatrix(s) { ... }
function applyAllTransformations() { ... }
```

**3. Модуль отображения**
```javascript
function update3DPlot() { ... }           // Обновление 3D вида
function updateProjections() { ... }      // Обновление проекций
function updateMatrix() { ... }           // Обновление матрицы
```

**4. Модуль управления интерфейсом**
```javascript
function initInterface() { ... }          // Инициализация контролов
function toggleFullscreen() { ... }       // Полноэкранный режим
function toggleProjections() { ... }      // Управление проекциями
```

---

### 5. Математическая основа

#### 5.1. Матрица преобразований
Итоговая матрица вычисляется как произведение матриц элементарных преобразований:

**M = T · Rx · Ry · Rz · S**

Где каждая матрица имеет вид:

**Матрица вращения вокруг оси X:**
```
[ 1   0    0    0 ]
[ 0   cos -sin  0 ]
[ 0   sin  cos  0 ]
[ 0   0    0    1 ]
```

**Матрица масштабирования:**
```
[ s  0  0  0 ]
[ 0  s  0  0 ]
[ 0  0  s  0 ]
[ 0  0  0  1 ]
```

**Матрица переноса:**
```
[ 1  0  0  dx ]
[ 0  1  0  dy ]
[ 0  0  1  dz ]
[ 0  0  0  1  ]
```

#### 5.2. Преобразование вершин
Каждая вершина преобразуется с использованием однородных координат:
```
v' = M · [x, y, z, 1]^T
```

#### 5.3. Проекции
Ортографические проекции строятся путём проецирования на соответствующие плоскости:
- **XY**: игнорируется координата Z
- **XZ**: игнорируется координата Y  
- **YZ**: игнорируется координата X

---

### 6. Особенности реализации

#### 6.1. Геометрия буквы K
Модель построена с учётом пропорций:
- Вертикальная стойка: высота 2.0, ширина 0.1
- Наклонные перекладины: длина ~1.4, ширина 0.1
- Толщина буквы: 0.1 (по оси Z)
- Все элементы соединены в середине вертикальной стойки

#### 6.2. Адаптивный рендеринг
- Автоматическое изменение размеров графиков при ресайзе
- Оптимизация для мобильных устройств
- Динамическое изменение высоты проекций

#### 6.3. Обработка пользовательского ввода
- Двусторонняя синхронизация слайдеров и числовых полей
- Дебаунс при изменении размеров окна
- Валидация вводимых значений

#### 6.4. Цветовая схема и дизайн
- Профессиональная сине-фиолетовая гамма
- Единый стиль всех элементов интерфейса
- Анимации и эффекты переходов
- Чёткое визуальное разделение областей

---

### 7. Инструкция по использованию

#### 7.1. Запуск приложения
1. Убедиться, что все файлы находятся в правильной структуре
2. Открыть `index.html` в современном браузере
3. Проверить загрузку библиотек из папки `lib/`

#### 7.2. Основные операции
1. **Вращение**: используйте слайдеры "Вращение X/Y/Z"
2. **Перемещение**: используйте слайдеры "Сдвиг X/Y/Z"
3. **Масштабирование**: используйте слайдер "Масштаб"
4. **Сброс**: кнопка "Сбросить всё"
5. **Полноэкранный режим**: кнопка в шапке
6. **Управление проекциями**: кнопка "Свернуть/Развернуть"

#### 7.3. Интерпретация отображения
- **3D вид**: основное окно с перспективной проекцией
- **Проекции**: три окна снизу с ортографическими проекциями
- **Матрица**: текущая матрица преобразований 4×4
- **Значения**: текущие параметры преобразований

---

### 8. Преимущества реализации

1. **Интерактивность**: все преобразования применяются в реальном времени
2. **Наглядность**: одновременное отображение 4 видов
3. **Образовательная ценность**: прозрачная математическая основа
4. **Адаптивность**: корректная работа на любых устройствах
5. **Профессиональный интерфейс**: удобное управление и визуализация
6. **Производительность**: использование аппаратного ускорения через WebGL
7. **Доступность**: не требует установки дополнительного ПО

---

### 9. Возможные улучшения

1. **Дополнительные режимы отображения**:
   - Проволочная модель
   - Каркасное отображение
   - Режим нормалей

2. **Расширенные возможности**:
   - Сохранение/загрузка состояния
   - Анимация преобразований
   - Экспорт в различные форматы

3. **Образовательные функции**:
   - Пошаговое объяснение преобразований
   - Визуализация промежуточных матриц
   - Интерактивные примеры

---

### 10. Выводы

Разработанное приложение успешно демонстрирует ключевые принципы трёхмерной компьютерной графики:

1. **Моделирование**: создание сложной формы из простых примитивов
2. **Преобразования**: применение матричных операций для управления 3D объектами
3. **Проекции**: различные способы отображения трёхмерных объектов на плоскости
4. **Интерактивность**: непосредственное взаимодействие пользователя с 3D моделью
5. **Визуализация**: эффективное представление математических данных

Приложение сочетает образовательную ценность с практической полезностью, предоставляя инструмент для изучения основ 3D графики и матричных преобразований. Использование современных веб-технологий обеспечивает кроссплатформенность и доступность без необходимости установки специального программного обеспечения.

Реализация подтверждает, что даже сложные концепции компьютерной графики могут быть эффективно представлены и изучены через интерактивные веб-приложения.
